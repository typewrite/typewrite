<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for src/server/controllers/BaseController.ts</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../prettify.css" />
    <link rel="stylesheet" href="../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../index.html">All files</a> / <a href="index.html">src/server/controllers</a> BaseController.ts
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">93.98% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>78/83</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">73.81% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>31/42</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">91.3% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>21/23</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">93.98% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>78/83</span>
      </div>
    </div>
  </div>
  <div class='status-line high'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-yes">133x</span>
<span class="cline-any cline-yes">45x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">11x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-yes">7x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">import * as express from "express";
import {BaseEntity, Connection, getConnection} from "typeorm";
import { HttpError } from "routing-controllers";
import { Config } from "../utils/Config";
&nbsp;
/**
 * Base Controller class to contain common methods/properties accessible
 * across all controllers that extend this controller.
 */
export class BaseController {
&nbsp;
    /** @param {express.Request} appRequest */
    public appRequest: express.Request;
    /** @param {express.Response} appResponse */
    public appResponse: express.Response;
    /** @param {string} successText - (common) Text to be used for success status message */
    protected successTxt = "success";
    /** @param {string} errorTxt - (common) Text to be used for error status message */
    protected errorTxt = "error";
    /** @param {Connection} db - The typeOrm database connection object */
    protected db: Connection = getConnection();
    /** @param {object | any} jsonResponse - The common JSON response object template */
    protected jsonResponse: any | object = { status: "" };
    /** @param {string} modelName - The model name in current controller context */
    protected modelName: string;
    /** @param {BaseEntity} modelObj - The model object in current controller context */
    protected modelObj: any | BaseEntity;
    /** @param {object} pagination - The property holds pagination info to be consumed by the successHandler. */
    protected pagination: any | object;
&nbsp;
    // ----------------------------------------------------------------------
    // Public Methods
    // ----------------------------------------------------------------------
&nbsp;
    /**
     * Common method to handle retrieving of all Entities.
     *
     * @param {express.Request} req - The express Request object.
     * @param {express.Response} res - The express Response object.
     * @param {any} queryParams - The Parameters to control pagination and limits.
     * @returns {Promise&lt;express.Response | T&gt;} - Returns an express Response object with JSON data.
     */
    public async getAll(req: express.Request,
                        res: express.Response,
                        queryParams?: any)
                        : Promise&lt;express.Response&gt; {
&nbsp;
        const self = this;
&nbsp;
        let limit = queryParams !== undefined &amp;&amp; queryParams.hasOwnProperty("limit") ? <span class="branch-0 cbranch-no" title="branch not covered" >queryParams.limit </span>: 100;
        let count = queryParams !== undefined &amp;&amp;
            queryParams.hasOwnProperty("count") ? <span class="branch-0 cbranch-no" title="branch not covered" >queryParams.count </span>: await this.modelObj.count();
&nbsp;
        limit = parseInt(limit, 10);
        count = parseInt(count, 10);
&nbsp;
        const totalPages = limit &gt; count ? 1 : (<span class="branch-1 cbranch-no" title="branch not covered" >count / limit)</span>;
        const currentPage = queryParams !== undefined &amp;&amp; queryParams.hasOwnProperty("page") ? <span class="branch-0 cbranch-no" title="branch not covered" >queryParams.page </span>: 1;
        const nextPage = currentPage === totalPages ? currentPage : (<span class="branch-1 cbranch-no" title="branch not covered" >currentPage + 1)</span>;
        const prevPage = currentPage === 1 ? 1 : (<span class="branch-1 cbranch-no" title="branch not covered" >currentPage - 1)</span>;
        let next, prev;
        next = prev = req.path + "?";
        next = `${next}page=${nextPage}&amp;limit=${limit}&amp;count=${count}&amp;totalPages=${totalPages}`;
        prev = `${prev}page=${prevPage}&amp;limit=${limit}&amp;count=${count}&amp;totalPages=${totalPages}`;
&nbsp;
        const pagination = {
            currentPage,
            totalPages,
            count,
            limit,
            next,
            prev,
        };
&nbsp;
        this.setPagination(pagination);
&nbsp;
        const skip = (currentPage - 1) * limit;
&nbsp;
        this.setUp(req, res);
        return this.modelObj.find({ skip, take: limit })
            .then(self.handleSuccess.bind(self))
            .catch(self.handleError.bind(self));
    }
&nbsp;
    /**
     * Common method to handle retrieving of a single Entity by Id.
     *
     * @param {number | string} id - The Entity Id.
     * @param {express.Request} req - Express request object.
     * @param {express.Response} res - Express response object.
     * @returns {Promise&lt;express.Response | T&gt;} - Returns an express Response object with JSON data.
     */
    public getOne(id: string|number,
                  req: express.Request,
                  res: express.Response)
                  : Promise&lt;express.Response&gt; {
&nbsp;
        this.setUp(req, res);
        return this.modelObj.findOne({id})
            .then((response) =&gt; {
                if (response === undefined) {
                    throw new HttpError(404, "User Not found");
                }
                return response;
            })
            .then(this.handleSuccess.bind(this))
            .catch(this.handleError.bind(this));
    }
&nbsp;
    /**
     * Common method to handle creation/addition of single entity.
     *
     * @param {number | string} params - Entity object with appropriate key, value pairs.
     * @param {express.Request} req - The express request object.
     * @param {express.Response} res - Express response object.
     * @returns {Promise&lt;express.Response | T&gt;} - Returns an express Response object with JSON data.
     */
    public addEntity(params: object|any,
                     req: express.Request,
                     res: express.Response)
                     : Promise&lt;express.Response&gt; {
&nbsp;
        this.setUp(req, res);
        this.sanitize(params, true);
        const entityRepo = this.db.getRepository(this.modelName);
        return entityRepo.save(params)
            .then(this.handleSuccess.bind(this))
            .catch(this.handleError.bind(this));
    }
&nbsp;
    /**
     * Common method to handle entity update.
     *
     * @param {number | string} id - Entity Id.
     * @param {object} updatedEntity - Entity object with updated values
     * @param {express.Request} req - The express request object.
     * @param {express.Response} res - Express response object.
     * @returns {Promise&lt;express.Response | T&gt;} - Returns an express Response object with JSON data.
     */
    public updateEntity(id: number|string,
                        updatedEntity: object|any,
                        req: express.Request,
                        res: express.Response)
                        : Promise&lt;express.Response&gt; {
&nbsp;
        this.setUp(req, res);
        this.sanitize(updatedEntity, true);
        return this.modelObj.findOne({id})
            .then((entity) =&gt; {
                Object.assign(entity, updatedEntity);
                return entity.save()
                    .then(this.handleSuccess.bind(this))
                    .catch(this.handleError.bind(this));
            })
            .catch(this.handleError.bind(this));
    }
&nbsp;
    /**
     * Common method to handle entity deletion.
     *
     * @param {string | number} id - Entity Id.
     * @param {express.Request} req - The express request object.
     * @param {express.Response} res - Express Response object.
     * @returns {Promise&lt;express.Response | T&gt;} - Returns an express Response object with JSON data.
     */
    public <span class="fstat-no" title="function not covered" >deleteEntity</span>(id: number|string,
                        req: express.Request,
                        res: express.Response)
                        : Promise&lt;express.Response&gt; {
&nbsp;
<span class="cstat-no" title="statement not covered" >        this.setUp(req, res);</span>
<span class="cstat-no" title="statement not covered" >        return this.modelObj.findOne({id})</span>
            .then(<span class="fstat-no" title="function not covered" >(e</span>ntity) =&gt; {
<span class="cstat-no" title="statement not covered" >                return entity.remove()</span>
                    .then(this.handleSuccess)
                    .catch(this.handleError);
            })
            .catch(this.handleError);
    }
&nbsp;
    /**
     * Common method to soft delete on Entity. The given Entity must have a status column to
     * to perform this action.
     *
     * @param {number | string} id - The entity Id.
     * @param {express.Request} req - The express request object.
     * @param {express.Response} res - The express response object.
     * @returns {Promise&lt;express.Response | T&gt;} - Returns the express Response Object.
     */
    public softDeleteEntity(id: number|string,
                            req: express.Request,
                            res: express.Response)
                            : Promise&lt;express.Response&gt; {
&nbsp;
        const self = this;
        this.setUp(req, res);
        return this.modelObj.findOne({id})
            .then((entity) =&gt; {
                entity.status = entity.statusDeleted || "Deleted";
                return entity.save()
                        .then(self.handleSuccess.bind(self))
                        .catch(self.handleError.bind(self));
            })
            .catch(this.handleError.bind(self));
    }
&nbsp;
    // ----------------------------------------------------------------------
    // Protected Methods
    // ----------------------------------------------------------------------
&nbsp;
    /**
     * Sanitizes the (db) Response with the Entity's static 'exclude' property, which should
     * contain an array of the Entity's properties to exclude.
     *
     * @param {object} response - The Database response (object) to sanitize.
     *
     */
    protected sanitize(response, incoming = <span class="branch-0 cbranch-no" title="branch not covered" >true)</span>: void {
        const filter = this.getExcluded(this.appRequest.method.toLocaleLowerCase(), incoming);
        <span class="missing-if-branch" title="else path not taken" >E</span>if (filter !== undefined) {
            if (response instanceof Array) {
                response.forEach((value, index) =&gt; {
                    response[index] = this.safeGuardProps(value, filter);
                });
            } else {
                response = this.safeGuardProps(response, filter);
            }
        }
    }
&nbsp;
    /**
     * Filters(deletes) the given filter (array of properties) to exclude (delete) from
     * the given Entity.
     *
     * @param {object} entity - The Entity to be filtered.
     * @param {string[]} filter - The Array of properties to be filtered from the entity.
     * @returns {object}
     */
    protected safeGuardProps(entity: object, filter: string[]): object {
&nbsp;
        Object.keys(entity)
                .filter((key) =&gt; filter.indexOf(key) &gt; -1)
                .forEach((key) =&gt; delete entity[key]);
&nbsp;
        return entity;
    }
&nbsp;
    /**
     * Common method to handle db response errors.
     *
     * @param {object} response - typeOrm response object.
     * @returns {express.Response} - Returns the express response object.
     */
    protected handleError(response): express.Response {
&nbsp;
        let responseJson = {
            error: {
                code: response.code,
                message: response.message,
            },
            status: this.errorTxt,
        };
        <span class="missing-if-branch" title="if path not taken" >I</span>if (Config.instance.get("env") === "development") {
<span class="cstat-no" title="statement not covered" >            responseJson = response;</span>
        }
        return this.appResponse.status(400).json(responseJson);
    }
&nbsp;
    /**
     * Common method to handle db success responses.
     *
     * @param {JSON | object} response - The TypeOrm repositary response object.
     * @returns {express.Response} - Returns the express response object.
     */
    protected handleSuccess(response): express.Response {
&nbsp;
        const obj = {};
        let modelName = this.modelName.toLowerCase();
        // add plural (to key name) for arrays
        modelName = (response instanceof Array) ? modelName + "s" : modelName;
        // sanitize entity with its exclude list
        this.sanitize(response, false);
        obj[modelName] = response;
        this.addPagination(obj);
        const json = this.successJson(obj);
        return this.appResponse.status(200).json(json);
    }
&nbsp;
    // ----------------------------------------------------------------------
    // Private Methods
    // ----------------------------------------------------------------------
&nbsp;
    /**
     * Assign express Response object from current context.
     *
     * @private
     * @param {express.Request} req - The express request object.
     * @param {express.Response} res - The express response object.
     * @returns {void}
     */
    private setUp(req: express.Request, res: express.Response): void {
        this.appRequest = req;
        this.appResponse = res;
    }
&nbsp;
    /**
     * Set pagination meta information.
     *
     * @private
     * @param {Object} paginationObj
     * @returns {void}
     */
    private setPagination(paginationObj: object): void {
        this.pagination = paginationObj;
    }
&nbsp;
    /**
     * Add pagination information to the given object.
     *
     * @private
     * @param {object} obj
     * @returns {object}
     */
    private addPagination(obj: any | object): object {
        if (this.pagination !== undefined) {
            obj.pagination = this.pagination;
            delete this.pagination;
        }
        return obj;
    }
&nbsp;
    /**
     * Common success response object creation method.
     *
     * @private
     * @param {object} obj - object to bind to response object.
     * @returns {object} - Return the success response object.
     */
    private successJson(obj: object): object {
        const json = { ...this.jsonResponse };
        json.status = this.successTxt;
        return { ...json, ...obj };
    }
&nbsp;
    /**
     * Returns the Array of excluded properties of the current ModelObj, by http method.
     *
     * @private
     * @param {string} method
     * @returns {string[]}
     */
    private getExcluded(method: string, incoming: boolean = <span class="branch-0 cbranch-no" title="branch not covered" >true)</span>: string[] {
        const type = incoming ? "incoming" : "outgoing";
&nbsp;
        <span class="missing-if-branch" title="else path not taken" >E</span>if (this.modelObj.hasOwnProperty("exclude") &amp;&amp; this.modelObj.exclude.hasOwnProperty(type)) {
            return this.modelObj.exclude[type][method] || this.modelObj.exclude[type].default;
        } else {
<span class="cstat-no" title="statement not covered" >            return [];</span>
        }
    }
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Tue Feb 27 2018 19:31:32 GMT+0530 (IST)
</div>
</div>
<script src="../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../sorter.js"></script>
</body>
</html>
